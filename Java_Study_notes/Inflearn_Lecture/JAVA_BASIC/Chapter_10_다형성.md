# 📚 Chapter 10: 다형성(Polymorphism)

> 📌 공부 날짜: 2025/02/15
> - `JAVA `- 기본편
> - `Reference`: 인프런 - 김영한의 실전 자바

---

## ✅ 다형적 참조
- 부모는 자식을 품을 수 있다.
  - ex) Parent parent = new Child(); - 자식의 기능은 호출 불가.
- 자식은 부모를 담을 수 없다.
- 부모 타입의 변수가 자식 인스턴스 참조

---

## ✅ 다형성과 캐스팅
1. **업 캐스팅**: 부모 타입으로 변경 (업 캐스팅은 생략 가능)
2. **다운 캐스팅**: 자식 타입으로 변경

> 다운 캐스팅 결과를 변수에 담아두는 과정이 번거로우면 일시적 다운 캐스팅을 통해 해결할 수 있다.
> ``` java
> ((Child)poly).childMethod();
> ```

- 업 캐스팅은 생략할 수 있고 자주 사용하기에 생략을 권장. 다운 캐스팅은 생략할 수 없다.

### 📚 다운캐스팅과 주의점
``` java
Parent parent = new Parent();
```
- 인스턴스가 부모 밖에 없는 객체(자식 자체가 존재하지 않음)를 다운 캐스팅 하면 런타임 오류가 발생하여 주의해야 함.

---

## ✅ 컴파일 오류 VS 런타임 오류
- `컴파일 오류`는 자바 프로그램을 실행하기 전에 발생하는 오류이다.
  - (변수명 오타, 잘못된 클래스 이름) 이런 오류는 `IDE`에서 즉시 확인할 수 있기 때문에 안전하고 좋은 오류이다.
- `런타임 오류`는 프로그램이 실행되고 있는 시점에 발생하는 오류이다.
  - 매우 안 좋은 오류이며, 그 이유는 고객이 해당 프로그램을 실행하는 도중에 발생하기 때문.

---

## ✅ 참고

> 🔍 **instanceof**
> - 변수가 참조하는 타입을 확인하고 싶을 때 사용.
> - 다운 캐스팅을 수행하기 전에는 먼저 `instanceof` 를 사용해서 원하는 타입으로 변경이 가능한 지 확인한 다음에 다운 캐스팅을 수행하는 것이 안전하다.
> - `instanceof` 를 사용하면서 동시에 변수 선언 가능.
> ``` java
> if(parent2 instanceof Child child) // 아래 코드와 동일
> Child child = (Child) parent2; // 이 코드 생략 가능.
> ```

> 🔍 **다형성과 메서드 오버라이딩**
> - 오버라이딩 된 메서드가 항상 우선권을 가진다.
