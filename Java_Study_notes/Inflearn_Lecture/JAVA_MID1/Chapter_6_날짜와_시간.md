# 📚 (JAVA 인프런 - 중급 1편) Chapter 6: 날짜와 시간 정리 (2025/03/12)

---

## ✅ 날짜와 시간 라이브러리가 필요한 이유
- 날짜/시간 계산은 복잡함 → 잘 설계된 라이브러리 사용 필요
- 복잡한 계산을 추상화해서 제공
- Java 8부터 `java.time` 패키지 사용

---

## ✅ LocalDate, LocalTime, LocalDateTime
- `Local`이 붙는 이유: 세계 시간대(타임존)를 고려하지 않음
- 특정 지역의 날짜와 시간만 고려 → 국내 서비스에 적합

---

## ✅ ZonedDateTime, OffsetDateTime

### 1. ZonedDateTime
```text
예: 2013-11-12T08:20:30.213+9:00[Asia/Seoul]
```
- `+9:00` → 오프셋(UTC와의 시간 차이)
- `[Asia/Seoul]` → 타임존 (`ZoneId` 클래스 사용)
- 일광 절약 시간제(DST) 자동 처리

### 2. OffsetDateTime
- ZonedDateTime에서 타임존이 빠진 형태
- UTC 기준 오프셋만 고려

### ✅ 비교
| 항목              | ZonedDateTime                     | OffsetDateTime                    |
|-------------------|------------------------------------|-----------------------------------|
| 시간대 고려        | ✅ (DST 포함)                      | ❌ 오프셋만 고려                   |
| 적합한 사용처      | 글로벌 서비스, 사용자 시간대 필요 | 로그 기록, 저장 등 고정 시간 사용 |

> 글로벌 서비스가 아니면 자주 사용되지 않음

---

## ✅ DayOfWeek
- 월~일을 나타내는 열거형
- 년/월/일 등 다양한 날짜 관련 클래스 존재

---

## ✅ 날짜 클래스는 모두 불변
- 변경 시 새로운 객체 반환 → 반드시 반환값을 변수에 저장해야 함

---

## ✅ isEqual() vs equals()
- `isEqual()` → 시간적으로 같으면 true (타임존 무시)
- `equals()` → 내부 모든 정보(타입, 타임존 등)가 같아야 true

---

## ✅ Instant - 기계 중심의 시간

- 내부에는 **초/나노초 단위**로 구성된 UTC 기준 시간 저장

### 📌 Epoch Time
- 기준: 1970년 1월 1일 00:00:00 UTC
- 절대적 시간 표현 방식 → 시간대 영향 없음

### 📌 Instant 특징
| 항목      | 내용 |
|-----------|------|
| 장점      | UTC 기준 → 시간대 독립적, 일관된 비교 가능 |
| 단점      | 사람이 보기 불편, 시간대 없음 |

### 📌 사용 예
1. 로그 기록, 서버 시간 동기화
2. 시간대 변환 없는 계산
3. 데이터 저장/교환 등 정밀 시간 기준 필요 시

> 일반적인 날짜/시간 처리에는 LocalDateTime, ZonedDateTime 사용 권장

---

## ✅ Period / Duration - 시간 간격

| 클래스   | 단위         | 설명                           |
|----------|--------------|--------------------------------|
| Period   | 년, 월, 일    | 예: 3일 뒤, 1년 후 등           |
| Duration | 시, 분, 초    | 예: 3분 뒤, 5시간 후 등         |

- `getXxx()`: 초 단위
- `toXxx()`: 시/분 단위 변환 반환

---

## ✅ 날짜와 시간의 핵심 인터페이스

### 1. 특정 시점의 시간 (시각)
- `Temporal`, `TemporalAccessor` 인터페이스 구현
- 구현체: LocalDateTime, ZonedDateTime, Instant 등

### 2. 시간의 간격 (기간)
- `TemporalAmount` 인터페이스 구현
- 구현체: Period, Duration

---

## ✅ 주요 인터페이스 설명

| 인터페이스           | 설명 |
|----------------------|------|
| TemporalAccessor     | 날짜/시간 읽기 전용 |
| Temporal             | 날짜/시간 조작 가능 (읽기 + 쓰기) |
| TemporalAmount       | 기간을 나타내고 적용 가능 (덧셈/뺄셈 등) |

---

## ✅ 시간 단위와 시간 필드

| 종류        | 대표 구현체       | 설명 |
|-------------|-------------------|------|
| 시간 단위    | TemporalUnit, ChronoUnit | 시간의 측정 단위 (초, 분, 일 등) |
| 시간 필드    | TemporalField, ChronoField | 날짜/시간의 세부 필드 (연도, 월 등) |

- 시간 조회: `TemporalAccessor.get(ChronoField)`
- 시간 조작: `Temporal.plus(long, ChronoUnit)`
- 특정 필드 변경: `Temporal.with(TemporalField, newValue)`

---

## ✅ TemporalAdjusters 사용
- 특정 날짜 계산 (예: 다음 금요일, 이번 달 마지막 일요일 등)
- 단순한 `with()`으로 처리 불가한 복잡한 날짜 계산에 적합

---

## ✅ 날짜와 시간 문자열 포맷팅 & 파싱

| 작업     | 설명                          |
|----------|-------------------------------|
| 포맷팅   | Date → String (출력용 변환)   |
| 파싱     | String → Date (입력용 변환)   |

---

## ✅ 마무리 한 줄 정리
> **날짜/시간은 복잡하다! 상황에 맞는 클래스를 정확히 선택해 쓰는 것이 핵심이다.** ⏰
