# 📚 (JAVA 인프런 - 중급 1편) Chapter 7, 8: 중첩 클래스 & 내부 클래스 정리 (2025/03/14)

---

## ✅ 중첩 클래스(Nested Class)란?

- 클래스 안에 또 다른 클래스를 정의할 수 있음
- 중첩 클래스는 총 4가지 종류로 나뉘며, 크게 2가지로 분류됨:

### 1. 정적 중첩 클래스 (static nested class)
- 위치: 정적 변수 위치에 선언
- 바깥 클래스의 인스턴스에 소속되지 않음

### 2. 내부 클래스 (non-static nested class)
- 인스턴스 변수 위치에 선언
- 바깥 클래스의 인스턴스에 소속됨

#### 내부 클래스의 세부 유형:
- 내부 클래스
- 지역 클래스 (메서드 안에서 정의)
- 익명 클래스 (클래스명 없음)

> 변수 선언 위치에 따라 중첩 클래스 선언 위치도 같다고 이해하면 됨

---

## ✅ 정적 vs 비정적 중첩 클래스 차이

| 구분             | 정적 중첩 클래스                | 내부 클래스 (비정적)           |
|------------------|----------------------------------|-------------------------------|
| 바깥 클래스 참조  | ❌ 없음                          | ✅ 바깥 클래스 인스턴스에 소속 |
| 생성 방식         | `new Outer.Nested()`             | `outerInstance.new Inner()`   |
| 용도             | 독립 클래스처럼 사용 가능        | 바깥 인스턴스와 긴밀하게 연결됨 |

> 실무에서는 전부 통칭해서 '내부 클래스'라 부르기도 함

---

## ✅ 중첩 클래스를 사용하는 이유

1. **논리적 그룹화**  
   → 특정 클래스가 다른 클래스 안에서만 쓰일 때 함께 정의하면 더 명확함

2. **캡슐화 강화**  
   → 바깥 클래스의 `private` 멤버 접근 가능  
   → 불필요한 public 메서드 노출 줄임

---

## ✅ 섀도잉(Shadowing)

- 내부, 외부, 지역 변수 이름이 같을 경우 **가장 가까운 스코프의 변수**가 우선됨
- `this.value`: 내부 클래스의 멤버
- `OuterClass.this.value`: 바깥 클래스의 멤버

> 변수 이름을 명확히 구분하는 것이 유지보수에 좋음

---

## ✅ 지역 클래스(Local Class)

- 메서드 안에 정의된 클래스
- 접근 제어자 사용 ❌ (지역 변수처럼 동작)

### 💡 생명주기 문제
- 메서드 호출 끝나면 지역 변수는 스택에서 사라짐
- 지역 클래스 인스턴스는 힙에 남음
- 자바는 **캡처(Capture)** 기법으로 지역 변수 값을 복사해 사용

### ⚠️ 지역 클래스에서 접근 가능한 지역 변수 조건
- **final 또는 사실상 final**이어야 함  
  (값이 변경되면 안 됨 → 동기화 문제 발생 방지)

---

## ✅ 익명 클래스 (Anonymous Class)

- **이름이 없는 지역 클래스**
- 클래스 정의 + 인스턴스 생성을 동시에 함

```java
Printer printer = new Printer() {
    // 구현 내용
};
```

- `Printer`는 인터페이스이며, 위 코드는 해당 인터페이스를 구현한 익명 클래스를 생성함

### 📌 특징
1. 상속 또는 인터페이스 구현 필수
2. 클래스 이름이 없으므로 생성자 정의 불가

### 📌 장점
- 간단한 코드 구현 시 유용
- 별도 클래스 정의 없이 코드 간결화

### 📌 한계
- 오직 **한 번만 인스턴스 생성 가능**
- 복잡하거나 재사용 필요한 경우 별도 클래스 권장

---

## ✅ 마무리 한 줄 정리
> **중첩 클래스는 캡슐화와 논리적 그룹화를 위해 사용되며, 익명 클래스는 간단한 구현에 유용하다. 상황에 맞게 유연하게 사용하자!**
