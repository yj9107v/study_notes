# ðŸ“Œ Access Tokenê³¼ Refresh Tokenì€ ë¬´ì—‡ì¸ê°€?
> ìž‘ì„± ë‚ ì§œ: 2025/04/06

ë¡œê·¸ì¸í•œ ì‚¬ìš©ìžì˜ ì¸ì¦ ìƒíƒœë¥¼ ìœ ì§€í•˜ê¸° ìœ„í•œ JWT ê¸°ë°˜ ì¸ì¦ ì‹œìŠ¤í…œì˜ ë‘ ê°€ì§€ í•µì‹¬ êµ¬ì„±ìš”ì†Œì´ë‹¤.

## âœ… ìš©ì–´ ì •ë¦¬
| í† í° ì¢…ë¥˜ | ëœ» | ì£¼ ì—­í•  |
|---------|----|--------|
| Access Token | ì ‘ê·¼ í† í° | ë¡œê·¸ì¸í•œ ì‚¬ìš©ìžê°€ ìš”ì²­í•  ë•Œ, ì„œë²„ê°€ `ì¸ì¦ë¨`ì„ í™•ì¸í•˜ëŠ” ì§§ì€ ìˆ˜ëª…ì˜ í† í° |
| Refresh Token | ìž¬ë°œê¸‰ í† í° | Access Tokenì´ ë§Œë£Œëì„ ë•Œ, ìƒˆë¡œìš´ Access Tokenì„ ë°œê¸‰ë°›ê¸° ìœ„í•œ í† í° |

---

## âœ… íë¦„ìœ¼ë¡œ í™•ì¸í•˜ê¸°
### ðŸ” ë¡œê·¸ì¸í•˜ë©´:
1. ì„œë²„ëŠ” ë‘ê°œì˜ í† í°ì„ ë°œê¸‰í•¨:
    - Access Token (ì§§ê²Œ ìœ ì§€ - ë³´í†µ 15ë¶„~1ì‹œê°„)
    - Refresh Token (ì˜¤ëž˜ ìœ ì§€ - ë³´í†µ ë©°ì¹ ~ìˆ˜ ì£¼)

2. í´ë¼ì´ì–¸íŠ¸ëŠ”:
    - Access Token â†’ ìš”ì²­ ì‹œ Authorization: Bearerë¡œ í—¤ë”ì— ë¶™ìž„.
    - Refresh Token â†’ ë¡œì»¬ ì €ìž¥ (ë³´í†µ ì¿ í‚¤ ë˜ëŠ” secure storage)

---

## âœ… ì™œ ë‘˜ ë‹¤ í•„ìš”í• ê¹Œ?
 | ì´ìœ  | ì„¤ëª… |
 |-----|-----|
 | ë³´ì•ˆ | Access Tokenì´ íƒˆì·¨ë˜ì–´ë„ ì§§ì€ ì‹œê°„ í›„ ë§Œë£Œë¨ |
 | ì‚¬ìš©ìž íŽ¸ì˜ | ì‚¬ìš©ìžê°€ ë‹¤ì‹œ ë¡œê·¸ì¸í•˜ì§€ ì•Šì•„ë„ Refresh Tokendìœ¼ë¡œ Access Tokendìš¸ ìž¬ë°œê¸‰ ê°€ëŠ¥ |
 | ì„¸ì…˜ ìœ ì§€ | Refresh Tokenì€ ë¡œê·¸ì¸ ìƒíƒœë¥¼ ìœ ì§€í•˜ê²Œ í•´ì¤Œ (ë°±ê·¸ë¼ìš´ë“œ ìžë™ ìž¬ë¡œê·¸ì¸ ëŠë‚Œ) |

---

## âœ… ì˜ˆì‹œ íë¦„
```text
[ë¡œê·¸ì¸ ìš”ì²­]
â†’ ì„œë²„: Access Token + Refresh Token ë°œê¸‰

[ìš”ì²­ ì‹œ]
â†’ í—¤ë”ì— Access Token ë„£ì–´ì„œ ìš”ì²­

[Access Token ë§Œë£Œë¨]
â†’ ì„œë²„ê°€ 401 Unauthorized ì‘ë‹µ

[Refresh Token ìš”ì²­]
â†’ ì„œë²„: ìƒˆë¡œìš´ Access Token ë°œê¸‰

[Refresh Tokenë„ ë§Œë£Œë¨]
â†’ ë‹¤ì‹œ ë¡œê·¸ì¸ í•„ìš”
```

---

## âœ… ì •ë¦¬ ìš”ì•½
 | êµ¬ë¶„ | Access Token       | Refresh Token |
 |-----|--------------------|---------------|
 | ì—­í•  | API ìš”ì²­ ì¸ì¦ìš©         | Access Token ìž¬ë°œê¸‰ìš© |
 | ìœ íš¨ê¸°ê°„ | ì§§ìŒ (15ë¶„~1ì‹œê°„)       | ê¹€ (7ì¼~30ì¼) |
 | ì €ìž¥ ìœ„ì¹˜ | ë©”ëª¨ë¦¬ / LocalStorage | HttpOnly Cookie ë“± |
 | ë³´ì•ˆ ìœ„í—˜ | íƒˆì·¨ ì‹œ ì§§ì€ í”¼í•´         | íƒˆì·¨ ì‹œ ìƒˆ Access Token ë°œê¸‰ë‹¹í•  ìˆ˜ ìžˆìŒ |

---

## âœ¨ ì¶”ê°€ íŒ
- Refresh Tokenì€ DBì— ì €ìž¥í•˜ê±°ë‚˜ ì„±ëŠ¥ì„ ê³ ë ¤í•˜ë©´ Redisì— ê´€ë¦¬í•´ì„œ ë°œê¸‰ ì‹œì ê³¼ ì¼ì¹˜í•˜ëŠ”ì§€ ê²€ì¦í•˜ëŠ” ë°©ì‹ë„ ë§Žì´ ì‚¬ìš©.

  ---

> References
- ChatGPT Plus


