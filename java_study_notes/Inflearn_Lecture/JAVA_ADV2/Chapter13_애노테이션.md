# π“ Chapter 13: μ• λ…Έν…μ΄μ…

> π“ κ³µλ¶€ λ‚ μ§: 2025/09/04
> - `JAVA `- κ³ κΈ‰ 2νΈ
> - `References`: [μΈν”„λ° - κΉ€μν•μ μ‹¤μ „ μλ°”](https://www.inflearn.com/course/%EA%B9%80%EC%98%81%ED%95%9C%EC%9D%98-%EC%8B%A4%EC%A0%84-%EC%9E%90%EB%B0%94-%EA%B3%A0%EA%B8%89-2)

---

## β… μ• λ…Έν…μ΄μ…μ΄ ν•„μ”ν• μ΄μ 
- λ§μ•½ λ¦¬ν”λ ‰μ… κ°™μ€ κΈ°μ λ΅ λ©”μ„λ“ μ΄λ¦„λΏλ§ μ•„λ‹λΌ μ£Όμ„κΉμ§€ μ½μ–΄μ„ μ²λ¦¬ν•  μ μλ‹¤λ©΄ μΆ‹μ§€ μ•μ„κΉ?
  - κ·Έλ¬λ©΄ ν•΄λ‹Ή λ©”μ„λ“μ— μλ” μ£Όμ„μ„ μ½μ–΄μ„ URL κ²½λ΅μ™€ λΉ„κµν•λ©΄ λλ‹¤.
- κ·Έλ°λ° μ£Όμ„μ€ μ½”λ“κ°€ μ•„λ‹λ‹¤. λ”°λΌμ„ μ»΄νμΌ μ‹μ μ— λ¨λ‘ μ κ±°λλ‹¤.
- λ§μ•½ ν”„λ΅κ·Έλ¨ μ‹¤ν–‰ μ¤‘μ— μ½μ–΄μ„ μ‚¬μ©ν•  μ μλ” μ£Όμ„μ΄ μλ‹¤λ©΄, κ·Έκ²ƒμ€ λ°”λ΅ `μ• λ…Έν…μ΄μ…`μ΄λ‹¤.

#### π” μ°Έκ³ : μ• λ…Έν…μ΄μ… λ‹¨μ–΄
- `Annotation`μ€ μΌλ°μ μΌλ΅ "μ£Όμ„" λλ” "λ©”λ¨"λ¥Ό μλ―Έν•λ‹¤.
- μ• λ…Έν…μ΄μ…μ€ μ½”λ“μ— μ¶”κ°€μ μΈ μ •λ³΄λ¥Ό μ£Όμ„μ²λΌ μ κ³µν•λ‹¤.
  - ν•μ§€λ§ μΌλ° μ£Όμ„κ³Ό λ‹¬λ¦¬, μ• λ…Έν…μ΄μ…μ€ μ»΄νμΌλ¬λ‚ λ°νƒ€μ„μ—μ„ ν•΄μ„λ  μ μλ” λ©”νƒ€λ°μ΄ν„°λ¥Ό μ κ³µν•λ‹¤.
- μ¦‰, μ• λ…Έν…μ΄μ…μ€ μ½”λ“μ— λ©”λ¨λ¥Ό λ‹¬μ•„λ†“μ€ κ²ƒμ²λΌ νΉμ • μ •λ³΄λ‚ μ§€μ‹λ¥Ό μ¶”κ°€ν•λ” λ„κµ¬λ΅, μ½”λ“μ— λ€ν• λ©”νƒ€λ°μ΄ν„°λ¥Ό ν‘ν„ν•λ” λ°©λ²•μ΄λ‹¤.
- λ”°λΌμ„ `μ• λ…Έν…μ΄μ…`μ΄λΌλ” μ΄λ¦„μ€ μ½”λ“μ— λ€ν• μ¶”κ°€μ μΈ μ •λ³΄λ¥Ό μ£Όμ„μ²λΌ λ‹¬μ•„λ†“λ”λ‹¤λ” λ»μ΄λ‹¤.

---

## β… μ• λ…Έν…μ΄μ… μ •μ
```java
@Retention(RetentionPolicy.RUNTIME)
public @interface AnnoElement {
    String value();
    int count() default 0;
    String[] tags() default {};
    
    Class<? extends MyLogger> annoData() default MyLogger.class; 
}
```
- μ• λ…Έν…μ΄μ…μ€ `@interface` ν‚¤μ›λ“λ΅ μ •μν•λ‹¤.
- μ• λ…Έν…μ΄μ…μ€ μ†μ„±μ„ κ°€μ§ μ μλ”λ°, μΈν„°νμ΄μ¤μ™€ λΉ„μ·ν•κ² μ •μν•λ‹¤.

### π“ μ• λ…Έν…μ΄μ… μ •μ κ·μΉ™
**λ°μ΄ν„° νƒ€μ…**
- κΈ°λ³Έ νƒ€μ… (int, float, boolean λ“±)
- String
- `Class`(λ©”νƒ€λ°μ΄ν„°) λλ” μΈν„°νμ΄μ¤
- enum
- λ‹¤λ¥Έ μ• λ…Έν…μ΄μ… νƒ€μ…
- μ„μ νƒ€μ…λ“¤μ λ°°μ—΄
- μ•μ„ μ„¤λ…ν• νƒ€μ… μ™Έμ—λ” μ •μν•  μ μ—†λ‹¤. μΌλ°μ μΈ ν΄λμ¤ μ‚¬μ© λ¶κ°€
  - ex) `Member`, `User`, `MyLogger`

**default**
- μ”μ†μ— default κ°’μ„ μ§€μ •ν•  μ μλ‹¤.
  - ex) `String value() default "κΈ°λ³Έ κ°’μ„ μ μ©ν•©λ‹λ‹¤.";`

**μ”μ† μ΄λ¦„**
- λ©”μ„λ“ ν•νƒλ΅ μ •μλλ‹¤.
- κ΄„νΈ()λ¥Ό ν¬ν•¨ν•λ, λ§¤κ°λ³€μλ” μ—†μ–΄μ•Ό ν•λ‹¤.

**λ°ν™ κ°’**
- `void`λ¥Ό λ°ν™ νƒ€μ…μ„ μ‚¬μ© λ¶κ°€

**μμ™Έ**
- μμ™Έλ¥Ό μ„ μ–Έν•  μ μ—†λ‹¤.

**νΉλ³„ν• μ”μ† μ΄λ¦„**
- `value`λΌλ” μ΄λ¦„μ μ”μ†λ¥Ό ν•λ‚λ§ κ°€μ§ κ²½μ°, μ• λ…Έν…μ΄μ… μ‚¬μ© μ‹ μ”μ† μ΄λ¦„μ„ μƒλµν•  μ μλ‹¤.

---

### π“ μ• λ…Έν…μ΄μ… μ‚¬μ©
```java
@AnnoElement(value = "data", count = 10, tags = {"t1", "t2"})
public class ElementData1 {}
```
- default ν•­λ©μ€ μƒλµ κ°€λ¥
- λ°°μ—΄μ ν•­λ©μ΄ ν•λ‚μΈ κ²½μ° `{}` μƒλµ κ°€λ¥
- μ…λ ¥ μ”μ†κ°€ ν•λ‚μΈ κ²½μ° `value` ν‚¤μ›λ“ μƒλµ κ°€λ¥

```java
public class ElementData1Main {
  public static void main(String[] args) {
    Class<ElementData1> annoClass = ElementData1.class;
    AnnoElement annotation = annoClass.getAnnotation(AnnoElement.class);

    String value = annotation.value();

    int count = annotation.count();

    String[] tags = annotation.tags();
  }
}
```

---

## β… λ©”νƒ€ μ• λ…Έν…μ΄μ…
- μ• λ…Έν…μ΄μ…μ„ μ •μν•λ” λ° μ‚¬μ©ν•λ” νΉλ³„ν• μ• λ…Έν…μ΄μ…μ„ λ©”νƒ€ μ• λ…Έν…μ΄μ…μ΄λΌ ν•λ‹¤.

**μΆ…λ¥**
- `@Retention`
  - `RetentionPolicy.SOURCE`
  - `RetentionPolicy.CLASS`
  - `RetentionPolicy.RUNTIME`
- `@Target`
- `@Documented`
- `@Inherited`

---
#### π” @Retention
μ• λ…Έν…μ΄μ…μ μƒμ΅΄ κΈ°κ°„μ„ μ§€μ •ν•λ‹¤.

- `RetentionPolicy.SOURCE`: μ†μ¤ μ½”λ“μ—λ§ λ‚¨μ•„μλ‹¤. μ»΄νμΌ μ‹μ μ— μ κ±°λλ‹¤.
- `RetentionPolicy.CLASS`: μ»΄νμΌ ν›„ class νμΌκΉμ§€λ” λ‚¨μ•„μμ§€λ§, μλ°” μ‹¤ν–‰ μ‹μ μ— μ κ±°λλ‹¤. (κΈ°λ³Έ κ°’)
- `RetentionPolicy.RUNTIME`: μλ°” μ‹¤ν–‰ μ¤‘μ—λ„ λ‚¨μ•„μλ‹¤. λ€λ¶€λ¶„ μ΄ μ„¤μ •μ„ μ‚¬μ©ν•λ‹¤.
  - λ¦¬ν”λ ‰μ…μ— μ‚¬μ©ν•λ ¤λ©΄ λ°λ“μ‹ `RUNTIME`

---
#### π” @Target
μ• λ…Έν…μ΄μ…μ„ μ μ©ν•  μ μλ” μ„μΉλ¥Ό μ§€μ •ν•λ‹¤.

- μ΄λ¦„λ§μΌλ΅ μ¶©λ¶„ν μ΄ν•΄κ°€ λ  κ²ƒμ΄λ‹¤. μ£Όλ΅ `TYPE`, `FIELD`, `METHOD`λ¥Ό μ‚¬μ©ν•λ‹¤.

---
#### π” @Documented
μλ°” API λ¬Έμ„λ¥Ό λ§λ“¤ λ•, ν•΄λ‹Ή μ• λ…Έν…μ΄μ…μ΄ ν•¨κ» ν¬ν•¨λλ”μ§€ μ§€μ •ν•λ‹¤. λ³΄ν†µ ν•¨κ» μ‚¬μ©ν•λ‹¤.

---
#### π” @Inherited
μμ‹ ν΄λμ¤κ°€ μ• λ…Έν…μ΄μ…μ„ μƒμ†λ°›μ„ μ μλ‹¤.

---
#### π” μ μ© μμ‹ 
```java
@Documented
@Retention(RetentionPolicy.RUNTIME)
@Target(ElementType.ANNPTATION_TYPE)
public @interface Retention {
    RetentionPolicy value();
}
```
- `@Retention`: `RUNTIME` μλ°” μ‹¤ν–‰ μ¤‘μ—λ„ μ• λ…Έν…μ΄μ… μ •λ³΄κ°€ λ‚¨μ•„μλ‹¤.
  - λ”°λΌμ„ λ°νƒ€μ„μ— λ¦¬ν”λ ‰μ…μ„ ν†µν•΄μ„ μ½μ„ μ μλ‹¤. λ§μ•½ λ‹¤λ¥Έ μ„¤μ •μ„ μ μ©ν•λ‹¤λ©΄ μλ°” μ‹¤ν–‰ μ‹μ μ— μ• λ…Έν…μ΄μ…μ΄ μ‚¬λΌμ§€λ―€λ΅ λ¦¬ν”λ ‰μ…μ„ ν†µν•΄μ„ μ½μ„ μ μ—†λ‹¤.
- `@Target`: `ElementType.METHOD, `ElementType.TYPE` λ©”μ„λ“μ™€ νƒ€μ…(ν΄λμ¤, μΈν„°νμ΄μ¤, enum λ“±)μ— `@AnnoMeta` μ• λ…Έν…μ΄μ…μ„ μ μ©ν•  μ μλ‹¤.
  - λ‹¤λ¥Έ κ³³μ— μ μ©ν•λ©΄ μ»΄νμΌ μ¤λ¥ λ°μƒ
- `Documented`: μλ°” API λ¬Έμ„λ¥Ό λ§λ“¤ λ•, ν•΄λ‹Ή μ• λ…Έν…μ΄μ…μ΄ ν¬ν•¨λλ‹¤.

---

## β… μ• λ…Έν…μ΄μ…κ³Ό μƒμ†