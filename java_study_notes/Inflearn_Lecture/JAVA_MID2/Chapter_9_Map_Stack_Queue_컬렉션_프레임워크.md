# 📚 Chapter 9: 컬렉션 프레임워크 - Map, Stack, Queue

> 📌 공부 날짜: 2025/04/01
> - `JAVA `- 중급 2편
> - `Reference`: 인프런 - 김영한의 실전 자바

---

## ✅ Map 소개
- `Map`은 키-값의 쌍을 저장하는 자료구조이다.
- 키는 맵 내에서 유일해야 한다.
  - 그리고 그 키를 통해 값을 빠르게 검색할 수 있다.
- 키는 중복될 수 없지만, 값은 중복될 수 있다.
- `Map`은 순서를 유지하지 않는다.
- 자바는 HashMap, LinkedHashMap, TreeMap 등 다양한 Map 구현체를 제공한다.

### 📚 키 목록 조회
```java
Set<String> keySet = studentMap.keySet();
```
- `Map`의 키는 중복을 허용하지 않아서 `Map`의 모든 키 목록을 조회하는 keySet()을 호출하면, 중복을 허용하지 않는 자료구조인 `Set`을 반환한다.

### 📚 키와 값 목록 조회
- `Entry`는 키-값의 쌍으로 이루어진 객체이다.
  - `Entry`는 Map 내부에서 키와 값을 함께 묶어서 저장할 때 사용한다.
- 참고로 `Entry`는 Map 내부에 있는 인터페이스이다.

### 📚 값 목록 조회
```java
Collection<Integer> values = studentMap.values();
```
- `Map`의 값 목록은 중복을 허용한다. 
  - 그리고 입력 순서를 보장하지 않기 때문에 단순히 값의 모음이라는 의미의 상위 인터페이스인 `Collection`으로 반환한다.

> 🔍 참고
> - `Map`에 같은 키에 다른 값을 저장하면 기존 값을 교체한다.
> - putIfAbsent() 메서드를 사용하면 키가 없는 경우에만 데이터를 저장하고 싶을 때 코드 한 줄로 편리하게 처리할 수 있다.
> - `Map`의 키가 바로 `Set`과 같은 구조이다.
>   - 참고로 자바의 `HashSet`의 구현은 대부분 `HashMap`의 구현을 가져다 사용한다. 
>   - `Map`에서 `value`만 비워두면 `Set`으로 사용할 수 있다. 

### 1. HashMap
- 구조: 해시를 사용해서 요소를 저장한다. 
  - 키 값은 해시 함수를 통해 해시 코드로 변환되고, 이 해시 코드는 데이터를 저장하고 검색하는데 유용한다.
- 특징: 삽입, 삭제, 검색 작업은 해시 자료구조를 사용하므로 일반적으로 상수 시간 `O(1)`의 복잡도를 가진다.
- 순서: 순서를 보장하지 않는다.
> 🚨 주의: `Map`의 `key`로 사용되는 객체는 반드시 equals(), hashCode() 메서드를 구현해야 한다.
> - 실무에서 `HashMap`을 가장 많이 사용.

---

## ✅ 스택(Stack) 자료구조
- 후입선출(LIFO, Last In First Out)
  - 스택에 값을 넣는 것을 `push`라 하고, 스택에서 값을 꺼내는 것을 `pop`이라고 한다.

> 🚨 **주의: Stack 클래스는 사용하지 말자.**
> - 자바의 Stack 클래스는 내부에서 `Vector`라는 자료구조를 사용한다.
> - 이 자료구조는 자바 1.0에 개발되었는데, 지금은 사용되지 않고 하위 호환을 위해 존재한다,
> - 지금은 더 빠른 좋은 자료구조가 많다. 따라서 `Vector`를 사용하는 `Stack`도 사용하지 않는 것을 권장한다.

---

## ✅ 큐(Queue) 자료구조
- 선입선출(FIFO, First In First Out)
  - 큐에 값을 넣는 것을 `offer`라 하고, 큐에서 값을 꺼내는 것을 `poll`이라 한다.

### 📚 컬렉션 프레임워크 - Queue
- Queue 인터페이스는 List, Set 과 같이 Collection 의 자식이다.
- `Queue`의 대표적인 구현체는 ArrayDeque, LinkedList 가 있다.

### 📚 Deque(Double Ended Queue) 자료구조
- 양쪽 끝에서 요소를 추가하거나 삭제할 수 있다.
- 일반적인 큐(Queue)와 스택(Stack)의 기능을 모두 포함하고 있어, 매우 유연한 자료구조이다.

### 📚 Deque 구현체와 성능 체스트
- 대표적인 구현체는 `ArrayDeque`과 `LinkedList`가 있다.
  - 이 둘 중에 `ArrayDeque`이 모든 면에서 더 빠르다.
- 둘의 차이는 `ArrayList`와 `LinkedList`의 차이와 비슷한데, 작동 원리가 하나는 `배열`을 하나는 `동적 노드 링크`를 사용하기 때문이다.
- `ArrayDeque`은 추가로 원형 큐 자료구조를 사용하는데, 덕분에 앞, 뒤 입력 모두 시간 `O(1)` 복잡도를 가진다.
- 이론적으로 `LinkedList`가 삽입 삭제가 자주 발생할 때 더 효율적일 수 있지만, 현대 컴퓨터 시스템의 메모리 접근 패턴, CPU 캐시 최적화 등을 고려할 때 배열을 사용하는 `ArrayDeque`가 실제 사용 환경에서 더 나은 성능을 보여주는 경우가 많다.

> 🔍 참고
> - `Deque`에서 `Stack`을 위한 메서드 이름까지 제공하는 것을 확인할 수 있다.
> - `Stack` 자료구조가 필요하면 `Deque`의 `ArrayDeque` 구현체를 사용하자.
