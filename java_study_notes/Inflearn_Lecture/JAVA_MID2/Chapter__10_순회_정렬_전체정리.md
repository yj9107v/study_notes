# π“ Chapter 10: μ»¬λ ‰μ… ν”„λ μ„μ›ν¬ - μν, μ •λ ¬ μ „μ²΄ μ •λ¦¬

> π“ κ³µλ¶€ λ‚ μ§: 2025/04/04
> - `JAVA `- μ¤‘κΈ‰ 2νΈ
> - `Reference`: μΈν”„λ° - κΉ€μν•μ μ‹¤μ „ μλ°”

---

## β… μν1 - Iterable, Iterator
- `μν`λΌλ” λ‹¨μ–΄λ” μ—¬λ¬ κ³³μ„ λμ•„λ‹¤λ‹λ‹¤λ” λ»μ΄λ‹¤.
- μλ£κµ¬μ΅°μ μνλ” μλ£κµ¬μ΅°μ— λ“¤μ–΄μλ” λ°μ΄ν„°λ¥Ό μ°¨λ΅€λ€λ΅ μ ‘κ·Όν•΄μ„ μ²λ¦¬ν•λ” κ²ƒμ„ `μν`λΌ ν•λ‹¤.
- λ‹¤μ–‘ν• μλ£κµ¬μ΅°κ°€ μμΌλ©°, κ°κ°μ μλ£κµ¬μ΅°λ§λ‹¤ λ°μ΄ν„°λ¥Ό μ ‘κ·Όν•λ” λ°©λ²•μ΄ λ¨λ‘ λ‹¤λ¥΄λ‹¤.
- μλ£κµ¬μ΅°μ κµ¬ν„κ³Ό κ΄€κ³„ μ—†μ΄ λ¨λ“  μλ£κµ¬μ΅°λ¥Ό λ™μΌν• λ°©λ²•μΌλ΅ μνν•  μ μλ” μΌκ΄€μ„± μλ” λ°©λ²•μ΄ λ°”λ΅ `Iterable`, `Iterator` μΈν„°νμ΄μ¤μ΄λ‹¤.

  ### π“ `Iterable`μ μ£Όμ” λ©”μ„λ“
  - λ‹¨μν Iterator λ°λ³µμλ¥Ό λ°ν™ν•λ‹¤.

  ### π“ `Iterator`μ μ£Όμ” λ©”μ„λ“
  - **hashNext()**: λ‹¤μ μ”μ†κ°€ μλ”μ§€ ν™•μΈν•λ‹¤. λ‹¤μ μ”μ†κ°€ μ—†μΌλ©΄ `false`λ¥Ό λ°ν™.
  - **next()**: λ‹¤μ μ”μ†λ¥Ό λ°ν™ν•λ‹¤. λ‚΄λ¶€μ— μλ” μ„μΉλ¥Ό λ‹¤μμΌλ΅ μ΄λ™ν•λ‹¤.

---

## β… μν2 - ν–¥μƒλ `forλ¬Έ`
- `Iterable`κ³Ό ν–¥μƒλ `forλ¬Έ`(Enhanced For Loop)
  - `for-each`λ¬ΈμΌλ΅ λ¶λ¦¬λ” ν–¥μƒλ `forλ¬Έ`μ€ μλ£κµ¬μ΅°λ¥Ό μνν•λ” κ²ƒμ΄ λ©μ μ΄λ‹¤.
```java
ex)
    for (int value: myArr) {
        System.out.println(value);
    }

ex)
    while (iteraotr.hashNext()) {
        System.out.println(iterator.next());
    }
```
- λ‘ λ‹¤ λ‘κ°™μ€ μ½”λ“μ΄λ‹¤. λ¨λ“  λ°μ΄ν„°λ¥Ό μνν•λ‹¤λ©΄ ν–¥μƒλ `forλ¬Έ`μ„ μ‚¬μ©ν•λ” κ²ƒμ΄ μΆ‹λ‹¤.

> π” μ •λ¦¬
> - λ§λ“λ” μ‚¬λμ΄ μκ³ λ΅μ°λ©΄ μ“°λ” μ‚¬λμ΄ νΈν•κ³ , λ§λ“λ” μ‚¬λμ΄ νΈν•λ©΄ μ“°λ” μ‚¬λμ΄ μκ³ λ΅­λ‹¤.
> - νΉμ • μλ£κµ¬μ΅°κ°€ `Iterable`, `Iterator`λ¥Ό κµ¬ν„ν•λ‹¤λ©΄, ν•΄λ‹Ή μλ£κµ¬μ΅°λ¥Ό μ‚¬μ©ν•λ” κ°λ°μλ” λ‹¨μν hashNext(), next() λλ” `for-each`λ¬Έμ„ μ‚¬μ©ν•΄μ„ μνν•  μ μλ‹¤.
> - μλ£κµ¬μ΅°κ°€ μ•„λ¬΄λ¦¬ λ³µμ΅ν•΄λ„ ν•΄λ‹Ή μλ£κµ¬μ΅°λ¥Ό μ‚¬μ©ν•λ” κ°λ°μλ” λ™μΌν• λ°©λ²•μΌλ΅ λ§¤μ° μ‰½κ² μλ£κµ¬μ΅°λ¥Ό μνν•  μ μλ‹¤.
> - μ΄κ²ƒμ΄ μΈν„°νμ΄μ¤κ°€ μ£Όλ” ν° μ¥μ μ΄λ‹¤.

---

## μν3 - μλ°”κ°€ μ κ³µν•λ” `Iterable`κ³Ό `Iterator`
- μλ°”κ°€ μ κ³µν•λ” μ»¬λ ‰μ… ν”„λ μ„μ›ν¬μ λ¨λ“  μλ£κµ¬μ΅°λ” `Iterable`κ³Ό `Iterator`λ¥Ό μ‚¬μ©ν•΄μ„ νΈλ¦¬ν•κ³  μΌκ΄€λ λ°©λ²•μΌλ΅ μνν•  μ μλ‹¤.
  - ν–¥μƒλ `forλ¬Έ`λ„ μ‚¬μ© κ°€λ¥.
```java
    private static void forEach(Iterable<Integer> iterable) {
        for (Integer i : iterable) {
            System.out.println(i);
        }
    }
```
- λ¦¬μ¤νΈ, μ…‹ λ“± `forEach(list.iterator())`, `forEach(set.iterator())` μ²λΌ λ‹¤ν•μ„±μ„ μ κ·Ή ν™•μ©ν•  μ μλ‹¤.

> π” μ°Έκ³ 
> - **`Iterator`(λ°λ³µμ) λ””μμΈ ν¨ν„΄**μ€ κ°μ²΄ μ§€ν–¥ ν”„λ΅κ·Έλλ°μ—μ„ μ»¬λ ‰μ…μ μ”μ†λ“¤μ„ μνν•  λ• μ‚¬μ©λ λ””μμΈ ν¨ν„΄μ΄λ‹¤.
> - μ΄ ν¨ν„΄μ€ λ‚΄λ¶€ ν‘ν„ λ°©μ‹μ„ λ…Έμ¶μ‹ν‚¤μ§€ μ•μΌλ©΄μ„λ„ κ·Έ μ•μ κ° μ”μ†μ— μμ°¨μ μΌλ΅ μ ‘κ·Όν•  μ μκ² ν•΄μ¤€λ‹¤.
> - `Iterator` ν¨ν„΄μ€ μ»¬λ ‰μ…μ κµ¬ν„κ³Όλ” λ…λ¦½μ μΌλ΅ μ”μ†λ“¤μ„ νƒμƒ‰ν•  μ μλ” λ°©λ²•μ„ μ κ³µν•λ©°, μ΄λ΅ μΈν•΄ μ½”λ“μ λ³µμ΅μ„±μ„ μ¤„μ΄κ³  μ¬μ‚¬μ©μ„±μ„ λ†’μΌ μ μλ‹¤.

---

## β… μ •λ ¬1 - Comparable, Comparator
  ### π“ λΉ„κµμ Comparator
  ```java
  public interface Comparator<T> {
      int compare (T1, T2)
  }
  ```
  - λ‘ μΈμλ¥Ό λΉ„κµν•΄μ„ κ²°κ³Ό κ°’μ„ λ°ν™ν•λ©΄ λλ‹¤.
    - μ²« λ²μ§Έ μΈμκ°€ λ” μ‘μΌλ©΄ μμ (-1)
    - λ‘ κ°’μ΄ κ°™μΌλ©΄ (0)
    - μ²« λ²μ§Έ μΈμκ°€ λ” ν¬λ©΄ μ–‘μ (1)
    
  ```java
  static class AscComparator implements Comparator<Integer> {
      @Override
      public int compare(Integer o1, Integer o2) {
          return (o1 < o2) ? -1 : ((o1 == o2) ? 0 : 1);
      }
  }
  ```
  - Arrays.sort()λ¥Ό ν•  λ• λΉ„κµμ(Comparator)λ¥Ό λ„κ²¨μ£Όλ©΄ μ•κ³ λ¦¬μ¦μ—μ„ μ–΄λ–¤ κ°’μ΄ λ” ν°μ§€ λ‘ κ°’μ„ λΉ„κµν•  λ• λΉ„κµμλ¥Ό μ‚¬μ©ν•λ‹¤.
  ```java
      Arrays.sort(array, new AscComparator());
  ```
  - `AscComparator`κ°€ μ¤λ¦„μ°¨μμΈλ° λ°ν™ κ°’μ— -1μ„ κ³±ν•΄μ£Όλ©΄ λ°λ€μΈ λ‚΄λ¦Όμ°¨μ μ •λ ¬λ΅ λ§λ“¤ μ μλ‹¤.
    - μ •λ ¬μ„ λ°λ€λ΅ ν•κ³  μ‹¶λ‹¤λ©΄ reversed() λ©”μ„λ“¤λ¥΄ μ‚¬μ©ν•΄λ„ λλ‹¤.

---

## β… μ •λ ¬2 - Comparable, Comparator
- μλ°”κ°€ κΈ°λ³ΈμΌλ΅ μ κ³µν•λ” Integer, String κ°™μ€ κ°μ²΄λ¥Ό μ μ™Έν•κ³  MyUser μ™€ κ°™μ΄ μ§μ ‘ λ§λ“  κ°μ²΄λ¥Ό μ •λ ¬ν•λ ¤λ©΄ μ–΄λ–»κ² ν•΄μ•Ό ν•λ‚?
  - μ΄λ•λ” Comparable μΈν„°νμ΄μ¤λ¥Ό κµ¬ν„ν•λ©΄ λλ‹¤. κ°μ²΄μ— λΉ„κµ κΈ°λ¥μ„ μ¶”κ°€ν•΄ μ¤€λ‹¤.
  - `Comparable`μ„ ν†µν•΄ κµ¬ν„ν• μμ„λ¥Ό μμ—° μμ„(Natural Ordering)λΌ ν•λ‹¤.

  ### π“ λ‹¤λ¥Έ λ°©μ‹μΌλ΅ μ •λ ¬
  - λ§μ•½ κ°μ²΄κ°€ κ°€μ§€κ³  μλ” `Comparable` κΈ°λ³Έ μ •λ ¬μ΄ μ•„λ‹λΌ λ‹¤λ¥Έ μ •λ ¬μ„ μ‚¬μ©ν•κ³  μ‹¶λ‹¤λ©΄ μ–΄λ–»κ² ν• κΉ?
  ```java
    public class IdComparator implements Comparator<MyUser> {
      
    @Override
    public int compare(MyUser o1, MyUser o2) {
      return o1.getId().compareTo(o2.getId());
    }
  }
  ```
  - `Arrays.sort`μ μΈμλ΅ λΉ„κµμ(Comparator)λ¥Ό λ§λ“¤μ–΄μ„ λ„κ²¨μ£Όλ©΄ λλ‹¤.
  
  > π¨ μ£Όμ
  > - λ§μ•½ `Comparable`λ„ κµ¬ν„ν•μ§€ μ•κ³ , `Comparator`λ„ μ κ³µν•μ§€ μ•μΌλ©΄ λ°νƒ€μ„ μ¤λ¥ λ°μƒ.
  
---

## β… μ •λ ¬3 - Comparable, Comparator
- μ •λ ¬μ€ λ°°μ—΄ λΏλ§ μ•„λ‹λΌ μμ„κ°€ μλ” List κ°™μ€ μλ£κµ¬μ΅°μ—λ„ μ‚¬μ©ν•  μ μλ‹¤.

  ### π“ Collections.sort(list)
  - λ¦¬μ¤νΈλ” μμ„κ°€ μλ” μ»¬λ ‰μ…μ΄λ―€λ΅ μ •λ ¬ν•  μ μλ‹¤.
    - ν•μ§€λ§ μ΄ λ°©μ‹ λ³΄λ‹¤λ” κ°μ²΄ μ¤μ¤λ΅ μ •λ ¬ λ©”μ„λ“λ¥Ό κ°€μ§€κ³  μλ” `list.sort()` μ‚¬μ©μ„ λ” κ¶μ¥ν•λ‹¤.

  ### π“ list.sort(null)
  - λ³„λ„μ λΉ„κµμκ°€ μ—†μΌλ―€λ΅ `Comparable`λ΅ λΉ„κµν•΄μ„ μ •λ ¬ν•λ‹¤.
  - λΉ„κµμ μ—†μ„ λ•μ—λ” `null`μ΄λΌλ„ λ„£μ–΄μ£Όμ–΄μ•Ό ν•λ‹¤.

  ### π“ TresSet κµ¬μ΅°μ™€ μ •λ ¬
  - μ΄μ§„ νƒμƒ‰ νΈλ¦¬ κµ¬μ΅°λ” λ°μ΄ν„°λ¥Ό λ³΄κ΄€ν•  λ•, λ°μ΄ν„°λ¥Ό μ •λ ¬ν•λ©΄μ„ λ³΄κ΄€ν•λ‹¤.
    - λ”°λΌμ„ μ •λ ¬ κΈ°μ¤€ μ κ³µν•λ” κ²ƒμ΄ ν•„μλ‹¤.
  - μ΄μ§„ νƒμƒ‰ νΈλ¦¬λ” λ°μ΄ν„°λ¥Ό μ €μ¥ν•  λ• μ™Όμ½ λ…Έλ“μ— μ €μ¥ν• μ§€ μ¤λ¥Έμ½ λ…Έλ“μ— μ €μ¥ν• μ§€ λΉ„κµκ°€ ν•„μ”ν•λ‹¤.
    - λ”°λΌμ„ `TreeSet`κ³Ό `TreeMap`μ€ Comparable λλ” Comparator κ°€ ν•„μμ΄λ‹¤.
  ```java
    // TreeSetμ„ μƒμ„±ν•  λ• λ³„λ„μ λΉ„κµμλ¥Ό μ κ³µν•κ±°λ‚ ν•μ§€ μ•λ” λ°©λ²„μ΄ μλ‹¤.
    new TreeSet<>(); // or
    new TreeSet<>(new IdComparator());
  ```

---

## β… μ»¬λ ‰μ… μ ν‹Έ
- μ»¬λ ‰μ…μ€ νΈλ¦¬ν•κ² λ‹¤λ£° μ μλ” κΈ°λ¥μ„ μ•μ•„λ³΄μ.
  - ex) max, min, shuffle, reverse, sort

  ### π“ νΈλ¦¬ν• μ»¬λ ‰μ… μ„±λ¥
  - List.of(1,2,3)μ„ μ‚¬μ©ν•λ©΄ μ»¬λ ‰μ…μ„ νΈλ¦¬ν•κ² μƒμ„±ν•  μ μλ‹¤.
  - λ‹¨ μ΄λ•λ” κ°€λ³€μ΄ μ•„λ‹λΌ λ¶λ³€ μ»¬λ ‰μ…μ΄ μƒμ„±λλ‹¤.
  
  ---
  ### π“ λ¶λ³€ μ»¬λ ‰μ…κ³Ό κ°€λ³€ μ»¬λ ‰μ… μ „ν™
  - λ¶λ³€ λ¦¬μ¤νΈλ¥Ό `κ°€λ³€ λ¦¬μ¤νΈ`λ΅ μ „ν™ν•λ ¤λ©΄ new ArrayList<>(list);λ¥Ό μ‚¬μ©ν•λ©΄ λλ‹¤.
    - `list`λ” λ¶λ³€.
  - κ°€λ³€ λ¦¬μ¤νΈλ¥Ό `λ¶λ³€ λ¦¬μ¤νΈ`λ΅ μ „ν™ν•λ ¤λ©΄ Collections.unmodifiableList()λ¥Ό μ‚¬μ©ν•λ©΄ λλ‹¤.
  
  ---
  ### π“ λΉ λ¶λ³€ λ¦¬μ¤νΈ μƒμ„± 2κ°€μ§€
  - Collections.emptyList();
    - μλ°” 5 μ΄μƒ
  - List.of() μ΄λ ‡κ² λ‘ κ°€μ§€κ°€ μμ§€λ§ List.of()κ°€ λ” κ°„κ²°ν•κ³  List.of(1,2,3)λ„ λ¶λ³€μ΄κΈ° λ•λ¬Έμ— μ‚¬μ©λ²•μ— μΌκ΄€μ„±μ΄ μλ‹¤.
    - μλ°” 9 μ΄μƒ. μ΄ κΈ°λ¥μ„ λ” κ¶μ¥.
  
  ---
  ### π“ λ©€ν‹°μ¤λ λ“ λ™κΈ°ν™”
  - Collections.synchronizedList()λ¥Ό μ‚¬μ©ν•λ©΄ μΌλ° λ¦¬μ¤νΈλ¥Ό λ©€ν‹°μ¤λ λ“ μƒν™©μ—μ„ λ™κΈ°ν™” λ¬Έμ κ°€ λ°μƒν•μ§€ μ•λ” μ•μ „ν• λ¦¬μ¤νΈλ΅ λ§λ“¤ μ μλ‹¤.
  - λ™κΈ°ν™” μ‘μ—…μΌλ΅ μΈν•΄ μΌλ° λ¦¬μ¤νΈλ³΄λ‹¤ μ„±λ¥μ΄ λ” λλ¦¬λ‹¤.

  ---

  ### π” μ»¬λ ‰μ… ν”„λ μ„μ›ν¬ μ „μ²΄ μ •λ¦¬ 
  - μλ°” μ»¬λ ‰μ… ν”„λ μ„μ›ν¬λ” λ°μ΄ν„° κ·Έλ£Ήμ„ μ €μ¥ν•κ³  μ²λ¦¬ν•κΈ° μ„ν• ν†µν•© μ•„ν‚¤ν…μ²λ¥Ό μ κ³µν•λ‹¤.
  - μ΄ ν”„λ μ„μ›ν¬λ” μΈν„°νμ΄μ¤, κµ¬ν„, μ•κ³ λ¦¬μ¦μΌλ΅ κµ¬μ„±λμ–΄ μμΌλ©°, λ‹¤μ–‘ν• νƒ€μ…μ μ»¬λ ‰μ…μ„ ν¨μ¨μ μΌλ΅ μ²λ¦¬ν•  μ μκ² ν•΄μ¤€λ‹¤.
    - μ—¬κΈ°μ„ μ»¬λ ‰μ…μ΄λ€ κ°μ²΄μ κ·Έλ£Ήμ΄λ‚ μ§‘ν•©μ„ μλ―Έν•λ‹¤.

---

## β… Collection μΈν„°νμ΄μ¤μ ν•„μ”μ„±
- λ‹¤μ–‘ν• μ»¬λ ‰μ… νƒ€μ…λ“¤μ΄ κ³µν†µμ μΌλ΅ λ”°λΌμ•Ό ν•λ” κΈ°λ³Έ κ·μ•½μ„ μ •μν•λ‹¤.
- List, Set, Queue μ™€ κ°™μ€ λ” κµ¬μ²΄μ μΈ μ»¬λ ‰μ… μΈν„°νμ΄μ¤λ“¤μ€ λ¨λ‘ μ»¬λ ‰μ… μΈν„°νμ΄μ¤λ¥Ό ν™•μ¥ν•μ—¬,
κ³µν†µλ λ©”μ„λ“λ“¤μ„ μ¶”κ°€λ΅ μƒμ†λ°›κ³  μ¶”κ°€μ μΈ κΈ°λ¥μ΄λ‚ νΉμ„±μ„ μ κ³µν•λ‹¤.
  - μ΄λ¬ν• μ„¤κ³„λ” μλ°” μ»¬λ ‰μ… ν”„λ μ„μ›ν¬μ μΌκ΄€μ„±κ³Ό μ¬μ‚¬μ©μ„±μ„ λ†’μ—¬μ¤€λ‹¤.
- μΌκ΄€μ„±, μ¬μ‚¬μ©μ„±, ν™•μ¥μ„±, λ‹¤ν•μ„±
- λ€ν‘μ μΌλ΅ μ»¬λ ‰μ… μΈν„°νμ΄μ¤λ” `iterator`λ¥Ό μ κ³µν•λ‹¤.
  - λ¨λ“  μ»¬λ ‰μ…μ νƒ€μ…μ λ°μ΄ν„°λ¥Ό μνν•  μ μλ‹¤.

---

## π¤” μ„ νƒ κ°€μ΄λ“
  ### 1. μμ„κ°€ μ¤‘μ”ν•κ³  μ¤‘λ³µμ΄ ν—μ©λλ” κ²½μ°
  - List μΈν„°νμ΄μ¤λ¥Ό μ‚¬μ©ν•μ.
    - `ArrayList`κ°€ μΌλ°μ μ΄μ§€λ§, μ¶”κ°€/μ‚­μ  μ‘μ—…μ΄ μ•μ½μ—μ„ λΉλ²ν• κ²½μ°μ—λ” `LinkedList`κ°€ μ„±λ¥μƒ λ” μΆ‹μ€ μ„ νƒμ΄λ‹¤.(λ°μ΄ν„°κ°€ μ—„μ²­ ν΄μ‹)

  ---
  ### 2. μ¤‘λ³µμ„ ν—μ©ν•μ§€ μ•κ³  μμ„κ°€ μ¤‘μ”ν•μ§€ μ•λ” κ²½μ°
  - `HashSet`μ„ μ‚¬μ©ν•μ.
    - μμ„λ¥Ό μ μ§€ν•΄μ•Ό ν•λ©΄ `LinkedHashSet`μ„,
    - μ •λ ¬λ μμ„κ°€ ν•„μ”ν•λ©΄ `TreeSet`μ„ μ‚¬μ©ν•μ.

  ---
  ### 3. μ”μ†λ¥Ό ν‚¤-κ°’ μμΌλ΅ μ €μ¥ν•λ ¤λ” κ²½μ°
  - Map μΈν„°νμ΄μ¤λ¥Ό μ‚¬μ©ν•μ.
    - μμ„κ°€ μ¤‘μ”ν•μ§€ μ•λ‹¤λ©΄ `HashMap`μ„,
    - μμ„λ¥Ό μ μ§€ν•΄μ•Ό ν•λ‹¤λ©΄ `LinkedHashMap`μ„,
    - μ •λ ¬λ μμ„κ°€ ν•„μ”ν•λ©΄ `TreeMap`μ„ μ‚¬μ©ν•μ.

  ---
  ### 4. μ”μ†λ¥Ό μ²λ¦¬ν•κΈ° μ „μ— λ³΄κ΄€ν•΄μ•Ό ν•λ” κ²½μ°
  - Queue, Deque μΈν„°νμ΄μ¤λ¥Ό μ‚¬μ©ν•μ.
    - μ¤νƒ, ν κµ¬μ΅° λ¨λ‘ `ArrayDeque`μ„ μ‚¬μ©ν•λ” κ²ƒμ΄ μ μΌ λΉ λ¥΄λ‹¤.
    - λ§μ•½ μ°μ„ μμ„μ— λ”°λΌ μ”μ†λ¥Ό μ²λ¦¬ν•΄μ•Ό ν•λ‹¤λ©΄ `PriorityQueue`λ¥Ό μ‚¬μ©ν•λ©΄ λλ‹¤.

  ---
  ### β— μ‹¤λ¬΄ μ„ νƒ κ°€μ΄λ“
  - `List`μ κ²½μ° λ€λ¶€λ¶„ `ArrayList`λ¥Ό μ‚¬μ©ν•λ‹¤. (λ°±μ—”λ“ κ°λ°μ μ‹ 95% μ΄μƒ)
  - `Set`μ κ²½μ° λ€λ¶€λ¶„ `HashSet`μ„ μ‚¬μ©ν•λ‹¤.
  - `Map`μ κ²½μ° λ€λ¶€λ¶„ `HashMap`μ„ μ‚¬μ©ν•λ‹¤.
  - `Queue`μ κ²½μ° λ€λ¶€λ¶„ `ArrayDeque`μ„ μ‚¬μ©ν•λ‹¤.

---

